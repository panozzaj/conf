#!/bin/sh
# Git pre-commit hook to check all staged files for common debug print statements

set -e

FILES_PATTERN='\.(rb|js|coffee)(\..+)?$'
WARNINGS='(puts|logger\.ap|console\.log|alert\(|console\.dir|console\.debug)'

echo 'Checking for common Ruby debugging print statements...'
git diff --cached --name-only | \
    grep -E $FILES_PATTERN | \
    GREP_COLOR='8;34' xargs grep --color --with-filename -n -E $WARNINGS

exit 0
